# SCV DeFi 백서
---

## 개요
---

### 목표

최근 DeFi 생태계에서 수많은 피해사례가 발생하고 있고 그 피해 금액도 천문학적이다. 그렇기에 개발 단계에서부터 보안에 많은 신경을 쏟아야 하고 이때 공격 라이브러리를 점검하고 오딧 체크리스트를 통해 개발을 하는 것이 안전하다.

그러나 현재 주로 사용하는 공격 라이브러리나 오딧 체크리스트를 점검한 결과, 빠르게 변화한 DeFi 생태계의 상황에 비해 공격 라이브러리와 오딧 체크리스트가 최신화 되지 않은 상태임을 확인했다. 예를 들어 컴파일러의 버전이 업데이트 되면서 더이상 발생하지 않는 오버 플로우/언더 플로우에 대한 것이 특별한 언급 없이 그대로 남아있었다. 이는 효율적인 점검에 방해가 된다. 이런식으로 예전에는 종종 발생했으나 최근에 와서는 더이상 발생하지 않는 벡터들에 대해, 반대로 예전에는 잘 발생하지 않았으나 최근에 자주 발생하는 트렌드 벡터들에 대한 정보를 수집하고 이러한 정보를 바탕으로 더욱 최신화 되고 세분화 된 우리만의 새로운 공격 라이브러리와 오딧 체크리스트를 제시하여 DeFi 생태계 보안성에 기여하고자 한다.

이는 현재 오픈소스로 제공되는 정적 분석 도구인 [Slither](https://github.com/crytic/slither)도 마찬가지이다. 탐지 속도와 그 정확도에서 뛰어난 모습을 보이는 정적 분석 도구이지만 우리가 정립한 공격 벡터들에 대해 탐지하지 못하는 모습을 종종 보였고 이에 우리는 우리가 발견한 패턴을 모듈화하여 [Slither](https://github.com/crytic/slither)에 기여하고자 한다.

## 산출물
---


### SCV 공격 라이브러리

우리만의 공격 라이브러리는 최근에 발생한 트렌드를 반영하였으며 컴파일러의 버전이 올라감으로써 더이상 발생하지 않는 취약점에 대해서도 컴파일러 버전을 명시해 놓으면서 이전 버전의 컴파일러를 사용하더라도 문제 없이 볼 수 있도록 구성하였다.

[SCV 공격 라이브러리](https://github.com/scv-bob11/scv-attack-library)

### SCV 오딧 체크리스트

우리만의 오딧 체크리스트 또한 최근에 발생한 트렌드를 반영하여 최신화하고 세분화 하였다.

[SCV 오딧 체크리스트](https://github.com/scv-bob11/scv-audit-check-list)

## Slither 모듈
---

우리는 10개의 패턴을 코드로 구현 하는 데에 성공을 하였으며 이중 O개의 모듈을 Slither에 기여했다. 모듈 리스트는 아래 링크에 정리 되어 있다.

[Slither 모듈](https://github.com/scv-bob11/slither-new-detector)

## 결과

---

### 요약

우리는 케이스 스터디를 통해 최신 취약점 트렌드에 대해 연구하였고 이를 통해 오래된 공격 라이브러리나 오딧 체크리스트를 최신화 및 세분화하여 우리만의 공격 라이브러리와 오딧 체크리스트를 제시하였다.

또한 Slither라는 오픈소스 정적 분석 도구에도 최신 취약점 트렌드를 반영한 패턴을 모듈화하여 기여하였다.

우리는 공격 라이브러리, 오딧 체크리스트, 새로운 모듈들을 제시함으로써 DeFi 개발자들이 조금 더 안전하게 개발할 수 있는 데에 기여를 하였다.

### 별첨

---

**SCV bot**

[SCV bot](https://github.com/scv-bob11/scv-bot)은 트위터에서 DeFi에 관한 버그 바운티와 같은 키워드를 포함한 게시글이 올라오면 이를 파싱하여 디스코드로 전달해주는 실시간 트위터 키워드 알람 봇이다.

이를 통해 빠르게 새로 시작한 바운티에 참여할 수 있으며 DeFi 시장의 흐름에 대해서도 대략적으로 파악이 가능해진다.

**SCV downloader**

[SCV downloader](https://github.com/scv-bob11/scv-downloader)는 [immunefi](https://immunefi.com/)에서 실시간으로 감시하고 있다가 새로운 바운티가 올라오면 이를 알려주는 도구이다.

마찬가지로 이를 통해 immunefi라는 공식적인 바운티 사이트에 올라온 서비스 분석에 빠르게 참여할 수 있다.
